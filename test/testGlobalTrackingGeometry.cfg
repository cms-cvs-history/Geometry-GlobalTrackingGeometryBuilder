# Configuration file to run GlobalTrackingGeometryTest
# Matteo Sani

process GeometryTest = {
    # empty input service; only need 1 event to check geometry!
    source = EmptySource {
        untracked int32 maxEvents = 1
    }

    # xml for tracker and muon geometry
    # ===========================
   
    include "Geometry/CMSCommonData/data/cmsIdealGeometryXML.cfi" 

    include "Geometry/CommonDetUnit/data/globalTrackingGeometry.cfi"


    service = MessageLogger {
        untracked vstring destinations = { "log.txt", "debug.txt", "errors.txt" }

    # No constraint on log.txt content...
        untracked PSet log.txt = { 
            untracked int32 lineLength = 132
            untracked bool noLineBreaks = true
        }

        untracked PSet debug.txt = { 
            untracked string threshold = "DEBUG"
            untracked int32 lineLength = 132
            untracked bool noLineBreaks = true
        } 

        untracked PSet errors.txt = { untracked string threshold = "ERROR" }

    # turn on the following to get LogDebug output
    # ============================================
    #   untracked vstring debugModules = {  "*"  } 

    }

    module producer = GlobalTrackingGeometryTest { }

    # provide a scheduler path
    path p1 = {producer}      
}
